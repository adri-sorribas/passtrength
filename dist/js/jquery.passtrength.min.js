/*!
 * passtrength.js
 * Original author: @adrisorribas
 * Modified on 08/12/2021 - Al Serize
 * Further changes, comments: @adrisorribas
 * Licensed under the MIT license
 */
!function(t,e,s,i){var n="passtrength",o={minChars:8,passwordToggle:!0,tooltip:!0,textWeak:"Weak",textMedium:"Medium",textStrong:"Strong",textVeryStrong:"Very Strong",eyeImg:"/ntwtips/common/img/eye.svg",formSubmitBtnSelector:"",preventFormSubmitPercent:0};function r(e,s){this.element=e,this.$elem=t(this.element),this.options=t.extend({},o,s),this._defaults=o,this._name=n,_this=this,this.init()}r.prototype={init:function(){var e=this.uuid();t(this.element).addClass();var s=this,i=jQuery("<div/>",{class:"passtrengthMeter psm_"+e}),n=jQuery("<div/>",{class:"tooltip",text:"Min "+this.options.minChars+" chars"});if(i.insertAfter(this.element),t(this.element).appendTo(i),this.options.tooltip){n.appendTo(i);var o=n.outerWidth()/2;n.css("margin-left",-o)}this.$elem.bind("keyup keydown",function(e){value=t(this).val(),s.check(value)}),this.options.passwordToggle&&s.togglePassword()},uuid:function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,t=>(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16))},check:function(t){var e,s,i,n=0;upperCase=new RegExp("[A-Z]"),n=new RegExp("[0-9]"),specialchars=new RegExp("([!,%,&,@,#,$,^,*,?,_,~])"),e=t.length>=this.options.minChars?1:-1,s=t.match(upperCase)?1:0,n=t.match(n)?1:0,i=t.match(specialchars)?1:0,securePercentage=(e+s+n+i)/4*100,this.addStatus(securePercentage)},addStatus:function(e){var s="",i="Min "+this.options.minChars+" chars",n=t(this.element).closest(".passtrengthMeter"),o=n.find(".tooltip");n.removeClass("weak medium strong very-strong"),e>=25&&(s="weak",i=this.options.textWeak),e>=50&&(s="medium",i=this.options.textMedium),e>=75&&(s="strong",i=this.options.textStrong),e>=100&&(s="very-strong",i=this.options.textVeryStrong),n.addClass(s),this.options.tooltip&&o.text(i),this.options.formSubmitBtnSelector.length&&(t(this.options.formSubmitBtnSelector).length||1!=value.length||console.warn("No Submit Btn to disabled with selector: "+this.options.formSubmitBtnSelector),t(this.options.formSubmitBtnSelector).attr("disabled",e<this.options.preventFormSubmitPercent))},togglePassword:function(){var e=jQuery("<span/>",{class:"showPassword",html:'<img class="showpass" src="'+this.options.eyeImg+'" />'}),s=t(this.element).closest(".passtrengthMeter").attr("class").replace("passtrengthMeter ",".");e.on("click",function(){var e=t(this);t(this).toggleClass("active");var s=t(this).siblings("input"),i="text"===t(s).attr("type")?"password":"text";t(s).attr("type",i),t(s).focus(),t(s).blur(function(){t(this).attr("type","password"),e.removeClass("active")})}).appendTo(t(s))}},t.fn[n]=function(e){return this.each(function(){t.data(this,"plugin_"+n)||t.data(this,"plugin_"+n,new r(this,e))})}}(jQuery,window,document);
